<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        Iterator 迭代器

        <script>

            let items = ['java', 'node', 'vue'];
            for (let item of items) {
                console.log(item);
            }

            let obj = {
                name: 'zhang',
                age: 18,
                sex: '男'
            }
            console.log('-------------------')
            for (let key in obj) {
                console.log(key, obj[key])
            }

            // let somedata = {
            //     next() {
            //         return { value: 'hello', done: false}
            //     }
            // }

            // for (let item of somedata) {
            //     console.log(item)
            // }
            // 可迭代, 可遍历对象是什么
            // 当一个对象 拥有 [Symbol.iterator] 属性, 并且其值是一个 函数
            // 返回 一个包含 next 方法的对象, 且 next 方法 必须返回一个对象
            // 对象 应该有两个属性 一个是 value , 另一个 是 done
            // value 代表迭代时取到的值, done 代表是否还有 下一个值
            let somedata = {
                [Symbol.iterator]() {
                    let n = 0;
                    return {
                        next() {
                            n++;
                            if (n < 10) {
                                return { value: 'hello' + n, done: false }
                            } else {
                                return { value: undefined, done: true }
                            }
                        }
                    }
                }
            }

            // 由于 somedata 是一个可迭代对象, 所以可以被 for of 循环访问 
            for (let item of somedata) {
                console.log(item);
            }

            // let iter = somedata[Symbol.iterator]();
            // console.log(iter);
            // let item = iter.next();
            // while(!item.done) {
            //     console.log(item);
            //     item = iter.next();
            // }



        </script>
    </body>
</html>